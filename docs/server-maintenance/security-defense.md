# 安全防御

随着你的 Minecraft 服务器的发展, 不乏也会有不坏好意的人加入进来对你的服务器进行黑客行为, 这时就需要你对你的服务器进行安全防御了

## 网络层

网络层攻击一般有 ICMP Flood, IP 欺骗等方式, 攻击者可以伪造 IP 地址, 篡改数据包, 导致网络拥塞

:::tip
有些人认为不公开自己的地址不会被入侵，无需额外的安全措施。这是严重的思维误区！即使不公开您的服务器地址，但由于公网IP的特性，也会因为其他各种原因可能导致被发现，入侵（如扫端，大规模发包卡服等）。因此，推荐您最好使用 白名单+任意一种带验证的登录方式 保护您的服务器，以免造成不必要的损失[点我跳转查看登录插件](https://mcrain.top/prepare-plugin/common-plugin.html#%E7%99%BB%E5%BD%95%E6%8F%92%E4%BB%B6-%E7%A6%BB%E7%BA%BF%E6%9C%8D%E5%BF%85%E8%A3%85)
:::

## 传输层

Minecraft Java 使用 TCP 协议进行通信, 可能会受到 TCP Flood 等攻击方式

防御这两种攻击的办法只能是增大带宽, 如可以购买高防服务器, 使用 Minecraft 代理 (如 Cloudflare Tunnel), 套多层 frp (内网穿透), 更换 IP 地址, 使用反向代理

## 应用层

应用层的攻击往往指针对某应用程序的攻击, 一般会利用应用的漏洞进行攻击

### 假人攻击

顾名思义, 即攻击者利用技术手段创建很多假的 Minecraft 玩家涌入服务器, 造成服务器瘫痪

防御这种攻击的方式可以从添加白名单, 添加反假人插件等方面入手

### MOTD 攻击

通过向服务器频繁发送 Ping 请求获取服务器的 MOTD 和图标, 阻塞服务器的响应, 导致服务器响应较慢

### 其它插件

攻击者可能对服务器开启的其它 HTTP 服务 (如 Plan 插件的 Web 服务, Dynmap 插件的地图服务) 进行攻击

### 爆破攻击

攻击者可能会对 RDP / SSH 的密码进行爆破攻击, 可能会使服务器被暴力破解, 导致服务器瘫痪

可以通过设置复杂的密码, SSH 使用密钥登录等方式进行防御

## 防范方式总结

- 不要惹是生非
- 开启防火墙, 限制访问的端口
- 给服务器添加反假人/白名单插件
- 修改 SSH / RDP 的默认端口
- 设置强密码
- 针对网络层: 购买高防服务器 / 使用 Minecraft 代理 / 套多层 frp / 更换 IP 地址 / 使用反向代理